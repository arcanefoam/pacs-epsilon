<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.startup">
      <startup
            class="org.eclipse.epsilon.evl.incremental.dt.Startup">
      </startup>
   </extension>
<extension
         point="org.eclipse.ui.commands">
      <category
            id="org.eclipse.epsilon.evl.incremental.dt.commands"
            name="incremental.evl">
      </category>
      <command
            categoryId="org.eclipse.epsilon.evl.incremental.dt.commands"
            defaultHandler="org.eclipse.epsilon.evl.incremental.dt.commands.EvlSelectionHandler"
            id="org.eclipse.epsilon.evl.incremental.dt.commands.evlSelection"
            name="Select EVL File">
      </command>
      <command
            categoryId="org.eclipse.epsilon.evl.incremental.dt.commands"
            defaultHandler="org.eclipse.epsilon.evl.incremental.dt.commands.EnableLiveValidationHandler"
            id="org.eclipse.epsilon.evl.incremental.dt.commands.evlEnable"
            name="Incremental Validation">
         <state
               id="org.eclipse.epsilon.evl.incremental.dt.live">
            <class
                  class="org.eclipse.ui.handlers.RegistryToggleState">
               <parameter
                     name="default"
                     value="false">
               </parameter>
               <parameter
                     name="persisted"
                     value="false">
               </parameter>
            </class>
         </state>
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="menu:org.eclipse.ui.main.menu?after=additions">
         <menu
               id="org.eclipse.epsilon.evl.incremental.dt.menus"
               label="EVL"
               mnemonic="M">
            <command
                  commandId="org.eclipse.epsilon.evl.incremental.dt.commands.evlEnable"
                  id="org.eclipse.epsilon.evl.incremental.dt.menus.evlEnable"
                  style="toggle">
            </command>
            <!--<visibleWhen>
                <with variable="activeEditorId">
                   <instanceof
                         value="org.eclipse.emf.ecore.presentation.EcoreEditor">
                   </instanceof>
                </with>
            </visibleWhen>-->
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.ide.markerResolution">
      <markerResolutionGenerator
            class="org.eclipse.epsilon.evl.emf.validation.EvlMarkerResolutionGenerator">
      </markerResolutionGenerator>
   </extension>
</plugin>
